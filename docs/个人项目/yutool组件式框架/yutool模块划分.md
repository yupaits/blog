# yutool模块划分

yutool的模块主要分为两大部分：组件和插件。部分设计思路记录在博客[《基础组件设计》](/软件开发/软件架构/基础组件设计核心思路)中。

组件：将业务系统中比较复杂的公共逻辑抽象成可扩展的公共组件，方便应用程序快速接入，约定大于配置，需要遵循组件的设计规范。
插件：轻量级，非必需，按需引入，灵活可扩展。

目前yutool整合的组件和插件有以下这些：

## 组件

| 名称               | 简介                                                                                                                                                                                  | Pass | 版本变更                                                                   |
|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----:|----------------------------------------------------------------------------|
| yutool-cache       | 缓存组件，支持二级缓存（本地缓存和分布式缓存），通过缓存注解控制缓存的刷新和过期                                                                                                          |      | • v1.2.6 组件移除，使用JetCache替换 <br>• v1.2.7 新增cache-adapter插件      |
| yutool-file-server | 文件服务，文件的上传下载，支持租户隔离、防盗链                                                                                                                                           |      | • v1.2.8 移除Fastdfs实现 <br>• v1.4.0 组件移除，使用Casdoor的存储提供商替换 |
| yutool-ldap        | LDAP组件，接入主流的LDAP服务                                                                                                                                                           |      | • v1.2.8 组件移除 <br>• v1.4.0 使用Casdoor的LDAP服务                       |
| yutool-mq          | 消息队列，支持延迟队列，支持以下消息中间件：<br>• RabbitMQ <br>• RocketMQ <br>• Kafka                                                                                                    |      |                                                                            |
| yutool-orm         | ORM组件，整合了Spirng生态主流的Mybatis Plus和JPA框架，并加入了实际场景中DTO和VO对象的处理逻辑                                                                                           |  ✔   | • v1.4.1 移除yutool-orm-jpa                                                |
| yutool-push        | 消息推送服务，支持5种消息类型的推送：<br>• 移动APP通知 <br>• Web网页消息 <br>• sms短信 <br>• Email电子邮件 <br>• IM消息 <br>通过统一的消息发送入口，按需路由到指定的消息渠道进行消息推送 |      | • v1.4.0 组件移除，使用Casdoor的提供商电子邮箱、短信、通知替换                |
| yutool-social      | 社交账号登录（第三方登录）组件，整合各大主流社交平台第三方登录功能并统一入口                                                                                                             |      | • v1.4.0 组件移除，使用Casdoor的提供商OAuth替换                             |
| yutool-state       | 状态机引擎，抽象主要的状态机应用场景，将状态机状态迁移的整个过程的处理接口标准化                                                                                                        |      |                                                                            |
| yutool-search      | 搜索引擎组件，基于redisearch开发的轻量级搜索引擎组件，支持中文分词                                                                                                                      |      |                                                                            |

## 插件

| 名称                | 简介                                                                                  | Pass | 版本变更                                            |
|---------------------|-------------------------------------------------------------------------------------|:----:|-----------------------------------------------------|
| api-idempotent      | 接口幂等检查，基于MySQL数据库主键的幂等性校验                                          |  ✔   | • v1.2.8 增加用户操作日志记录                       |
| api-logger          | 接口请求日志，记录接口请求的各项信息                                                   |  ✔   |                                                     |
| audit-logger        | 审计日志，字段维度的审计处理记录                                                       |  ✔   |                                                     |
| auth-filter         | 权限过滤，用户、角色、部门多维度权限过滤，扩展的自定义权限过滤接口                        |  ✔   |                                                     |
| distributed-lock    | 分布式锁（基于Redis实现）                                                               |  ✔   |                                                     |
| dynamic-thread-pool | 动态线程池管理                                                                        |      | • v1.2.7 插件移除，使用DynamicTp替换                 |
| history-data        | 历史数据清理，通过配置项实现历史数据的清除或转移                                       |  ✔   |                                                     |
| jwt-helper          | JWT工具                                                                               |      | • v1.2.8 插件移除，使用hutool-jwt替换                |
| native-mobile       | 本机号码登录                                                                          |      | • v1.4.0 插件移除                                   |
| sms-reply-storage   | 短信回复存储，用于向用户推送服务短信之后，接收并存储用户回复的短信内容                  |      | • v1.4.0 插件移除，使用Casdoor的提供商短信实现       |
| sms-verify          | 短信验证码                                                                            |      | • v1.4.0 插件移除，使用Casdoor的提供商短信实现       |
| swagger-support     | swagger接口文档支持                                                                   |      | • v1.2.6 插件移除，使用smart-doc替换                 |
| import-export       | 数据导入导出插件，基于EasyExcel实现                                                    |  ✔   |                                                     |
| multi-ds-tx         | 多数据源切换和事务控制插件，抽取dynamic-datasource本地事务控制核心代码二次封装进行实现 |      | • v1.2.7 插件移除，使用Dynamic-Datasource 4.0.0+替换 |
| trace-analysis      | 链路追踪插件                                                                          |      |                                                     |
| cache-adapter       | 基于Redis和Caffeine适配Spring Cache实现的二级缓存                                     |  ✔   |                                                     |
